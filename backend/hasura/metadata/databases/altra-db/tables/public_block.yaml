table:
  name: block
  schema: public
object_relationships:
- name: topic
  using:
    foreign_key_constraint_on: topic_id
array_relationships:
- name: block_change_requests
  using:
    foreign_key_constraint_on:
      column: block_id
      table:
        name: block_change_request
        schema: public
- name: block_tags
  using:
    foreign_key_constraint_on:
      column: block_id
      table:
        name: block_tag
        schema: public
- name: languages
  using:
    foreign_key_constraint_on:
      column: block_id
      table:
        name: language
        schema: public
event_triggers:
- definition:
    delete:
      columns: "*"
    enable_manual: false
    insert:
      columns: "*"
    update:
      columns:
      - created_time
      - last_edited_time
      - topic_id
      - voting_minus_count
      - voting_plus_count
      - archived
      - has_public_access
      - block_type
      - ref_block_id
      - url
      - id
      - block
  name: block_events
  retry_conf:
    interval_sec: 10
    num_retries: 0
    timeout_sec: 60
  webhook: http://host.docker.internal:7000/block/block_events
